<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ page.title }}</title>
    {% if page.layout == 'page' %}
    <meta name="description"
        content="A poetic approach to data-journey where feeling the phenomenon behind the data is as relevant as seeing the numbers describing it.">
    <meta property="og:title" content="A repository of infopoetries">
    <meta property="og:description"
        content="A poetic approach to data-journey where feeling the phenomenon behind the data is as relevant as seeing the numbers describing it.">
    <meta property="og:image"
        content="{{ '/assets/images/summary-card.png' | relative_url | prepend: 'https://infopoetry.densitydesign.org' }}">
    <meta property="og:url" content="https://infopoetry.densitydesign.org/">
    <meta name="twitter:card" content="summary_large_image">
    {% else %}
    <meta name="description" content="{{ page.content | remove: '<p>' | truncate: 147 }}">
    <meta property="og:title" content="{{ page.title }}">
    <meta property="og:description" content="{{ page.content | remove: '<p>' | truncate: 147 }}">
    <meta property="og:image"
        content="{{ page.featured | relative_url | prepend: 'https://infopoetry.densitydesign.org' }}">
    <meta property="og:url" content="{{ page.url | relative_url | prepend: 'https://infopoetry.densitydesign.org' }}">
    <meta name="twitter:card" content="summary_large_image">
    {% endif %}
    <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700" rel="stylesheet">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="{{ '/assets/images/favicons/apple-touch-icon-152x152.png' | relative_url }}" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{{ '/assets/images/favicons/apple-touch-icon-144x144.png' | relative_url }}" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="{{ '/assets/images/favicons/apple-touch-icon-120x120.png' | relative_url }}" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="{{ '/assets/images/favicons/apple-touch-icon-114x114.png' | relative_url }}" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="{{ '/assets/images/favicons/apple-touch-icon-72x72.png' | relative_url }}" />
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="{{ '/assets/images/favicons/apple-touch-icon-57x57.png' | relative_url }}" />
    <link rel="icon" type="image/png" href="{{ '/assets/images/favicons/favicon-32x32.png' | relative_url }}" sizes="32x32" />
    <link rel="icon" type="image/png" href="{{ '/assets/images/favicons/favicon-16x16.png' | relative_url }}" sizes="16x16" />
    <link rel="stylesheet" href="{{ '/assets/css/master.css' | relative_url }}">
    {% if page.layout == 'page' %}
    <link rel="stylesheet" href="{{ '/assets/css/page.css' | relative_url }}">
    {% else %}
    <link rel="stylesheet" href="{{ '/assets/css/infopoetry.css' | relative_url }}">
    {% endif %}
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-5816319-19" defer></script>
    <script defer>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
    </script>
    <script src="https://code.jquery.com/jquery-3.4.0.slim.min.js"
        integrity="sha256-ZaXnYkHGqIhqTbJ6MB4l9Frs/r7U4jlx7ir8PJYBqbI=" crossorigin="anonymous" defer></script>
    {% if page.layout == 'page' %}
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js" defer></script>
    <script src="{{ '/assets/js/p5/p5.min.js' | relative_url}} " defer></script>
    <script src="{{ '/assets/js/p5/addons/p5.dom.min.js' | relative_url}}" defer></script>
    <script src="{{ '/assets/js/p5/addons/p5.sound.min.js' | relative_url}}" defer></script>
    <script src="{{ '/assets/js/p5/sketch.js' | relative_url}}" defer></script>
    <script defer>
        let cache = localStorage.getItem('cachedFilters');
        
        let initialState = {
            "filters": {
                "topic": {
                    {% for topic in site.topics %}
                    "{{ topic.title | slugify: 'latin' }}": {
                        "name": "{{ topic.title }}",
                        "checked": false
                    },
                    {% endfor %}
                },
                "medium": {
                    {% for medium in site.mediums %}
                    "{{ medium.title | slugify: 'latin' }}": {
                        "name": "{{ medium.title }}",
                        "checked": false
                    },
                    {% endfor %}
                },
                "year": {
                    {% assign years = site.infopoetries | group_by: "year" | sort: "name" %}
                    {% for year in years %}
                    "{{ year.name | slugify: 'latin' | prepend: 'aa' }}": {
                        "name": "{{ year.name }}",
                        "checked": false
                    },
                    {% endfor %}
                },
                "institute": {
                    {% for institute in site.institutes %}
                    "{{ institute.title | slugify: 'latin' }}": {
                        "name": "{{ institute.title }}",
                        "checked": false
                    },
                    {% endfor %}
                }
            },
            "currentPage": "{{ page.title }}"
        };
        if (cache === null) {
            localStorage.setItem('cachedFilters', JSON.stringify(initialState.filters));
        }
    </script>
    <script src="{{ '/assets/js/page.js' | relative_url }}" defer></script>
    {% else %}
    <script src="{{ '/assets/js/infopoetry.js' | relative_url }}" defer></script>
    {% endif %}
</head>

<body>
    {{ content }}
    {% include footer.html %}
    {% include consent.html %}
</body>

</html>